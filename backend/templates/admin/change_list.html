{% extends "admin/change_list.html" %}
{% load i18n admin_urls static admin_list bis_tags %}

{% block filters %}
    {% if cl.has_filters %}
        <div id="show-changelist-filter"
             style="display: none; cursor: pointer; padding: 10px; font-size: 20px">«
        </div>
        <nav id="changelist-filter" aria-labelledby="changelist-filter-header">
            <h2 id="changelist-filter-header" class="hide-changelist-filter" style="cursor: pointer">
                {{ cl.model_admin.list_filter_title|default:"Filtr" }} <span style="float: right">»</span>
            </h2>
            {% if cl.is_facets_optional or cl.has_active_filters %}<div id="changelist-filter-extra-actions">
                {% if cl.is_facets_optional %}<h3>
                    {% if cl.add_facets %}<a href="{{ cl.remove_facet_link }}" class="hidelink">{% translate "Hide counts" %}</a>
                    {% else %}<a href="{{ cl.add_facet_link }}" class="viewlink">{% translate "Show counts" %}</a>{% endif %}
                </h3>{% endif %}
                {% if cl.has_active_filters %}<h3 id="changelist-filter-clear">
                    <a href="{{ cl.clear_all_filters_qs }}">&#10006; {% translate "Clear all filters" %}</a>
                </h3>{% endif %}
            </div>{% endif %}
            {% for spec in cl.filter_specs %}{% admin_list_filter cl spec %}{% endfor %}
        </nav>
        <script>
            django.jQuery('#show-changelist-filter').click(function () {
                django.jQuery('#changelist-filter').toggle()
                django.jQuery('#show-changelist-filter').toggle()
            })
            django.jQuery('.hide-changelist-filter').click(function () {
                django.jQuery('#changelist-filter').toggle()
                django.jQuery('#show-changelist-filter').toggle()
            })
            {% if cl.model_admin.hide_filters %}
                django.jQuery('#changelist-filter').toggle()
                django.jQuery('#show-changelist-filter').toggle()
            {% endif %}
        </script>
    {% endif %}
{% endblock %}

{% block pagination %}
    {% pagination cl %}
    {% user_stats cl %}
{% endblock %}